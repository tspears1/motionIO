{"version":3,"sources":["webpack://vue-motion-test/./resources/js/plugins/stickyHeader.plugin.js"],"names":["$window","$","window","options","plugin","$body","each","didScroll","lastScrollTop","delta","$header","$headerContent","initialHeight","outerHeight","$searchDrawer","$searchToggle","on","e","preventDefault","find","toggleClass","addClass","css","scroll","event","scrollCheck","hasScrolled","requestAnimationFrame","height","scrollPos","scrollTop","doNothing","Math","abs","removeClass","resize"],"mappings":";;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEa;;AAEb;AAEA,IAAIA,OAAO,GAAGC,6CAAC,CAACC,MAAD,CAAf;;AACAD,+DAAA,GAAoB,UAAUE,OAAV,EAAmB;AACnC,MAAIC,MAAM,GAAG,IAAb;AACA,MAAIC,KAAK,GAAGJ,6CAAC,CAAC,MAAD,CAAb;AAEA,SAAO,KAAKK,IAAL,CAAU,YAAY;AAEzB;AACA,QAAIC,SAAJ;AACA,QAAIC,aAAa,GAAI,CAArB;AACA,QAAIC,KAAK,GAAY,CAArB;AACA,QAAIC,OAAO,GAAUT,6CAAC,CAAC,IAAD,CAAtB;AACA,QAAIU,cAAc,GAAGV,6CAAC,CAAC,iBAAD,CAAtB;AACA,QAAIW,aAAa,GAAIF,OAAO,CAACG,WAAR,EAArB;AACA,QAAIC,aAAa,GAAIb,6CAAC,CAAC,gBAAD,CAAtB;AACA,QAAIc,aAAa,GAAId,6CAAC,CAAC,gBAAD,CAAtB,CAVyB,CAYzB;;AACAc,iBAAa,CAACC,EAAd,CAAiB,OAAjB,EAA0B,UAASC,CAAT,EAAY;AAClCA,OAAC,CAACC,cAAF;AACAJ,mBAAa,CAACK,IAAd,CAAmB,OAAnB,EAA4BC,WAA5B,CAAwC,MAAxC;AACH,KAHD,EAbyB,CAkBzB;;AACAV,WAAO,CAACW,QAAR,CAAiB,QAAjB;AACAhB,SAAK,CAACiB,GAAN,CAAU,aAAV,EAAyBV,aAAzB;AAEAZ,WAAO,CAACuB,MAAR,CAAe,UAASC,KAAT,EAAe;AAC1BjB,eAAS,GAAG,IAAZ;AACH,KAFD;;AAIA,QAAIkB,WAAW,GAAG,SAAdA,WAAc,GAAW;AACzB,UAAIlB,SAAJ,EAAe;AACXmB,mBAAW;AACXnB,iBAAS,GAAG,KAAZ;AACH;;AACDoB,2BAAqB,CAACF,WAAD,CAArB;AACH,KAND;;AAQAE,yBAAqB,CAACF,WAAD,CAArB;;AAEA,QAAIC,WAAW,GAAG,SAAdA,WAAc,GAAW;AACzB,UAAIE,MAAM,GAAOlB,OAAO,CAACG,WAAR,EAAjB;AACA,UAAIgB,SAAS,GAAI7B,OAAO,CAAC8B,SAAR,EAAjB;AACA,UAAIC,SAAS,GACTF,SAAS,IAAIrB,aAAb,IACAwB,IAAI,CAACC,GAAL,CAASzB,aAAa,GAAGqB,SAAzB,KAAuCpB,KAF3C;;AAKA,UAAGsB,SAAH,EAAc;AACV;AACH,OAVwB,CAYzB;;;AACA,UAAIF,SAAS,GAAGrB,aAAZ,IAA6BqB,SAAS,GAAGD,MAA7C,EAAqD;AACjD;AACAlB,eAAO,CACFW,QADL,CACc,WADd,EAEKC,GAFL,CAES,KAFT,EAEgB,CAACM,MAFjB;AAGH,OALD,MAKO;AACH;AACAlB,eAAO,CACFwB,WADL,CACiB,WADjB,EAEKZ,GAFL,CAES,KAFT,EAEgB,GAFhB;AAGH;;AAEDd,mBAAa,GAAGqB,SAAhB;AACH,KA1BD;;AA4BA7B,WAAO,CAACmC,MAAR,CAAe,YAAU;AACrB;AACA;AACA,UAAIP,MAAM,GAAGjB,cAAc,CAACE,WAAf,EAAb;AAEAR,WAAK,CAACiB,GAAN,CAAU,aAAV,EAAyBM,MAAzB;AACAF,iBAAW;AACd,KAPD;AASH,GAzEM,CAAP;AA0EH,CA9ED,C","file":"/js/plugins/stickyHeader.plugin.js","sourcesContent":["/**\n *\n * jQuery Sticky Header Plugin\n */\n\n'use strict';\n\nimport $ from 'jquery';\n\nvar $window = $(window);\n$.fn.stickyHeader = function (options) {\n    var plugin = this;\n    var $body = $('body');\n\n    return this.each(function () {\n\n        // header hide and show on scroll up/down\n        var didScroll;\n        var lastScrollTop  = 0;\n        var delta          = 5;\n        var $header        = $(this);\n        var $headerContent = $('.header-content');\n        var initialHeight  = $header.outerHeight();\n        var $searchDrawer  = $('.search-drawer');\n        var $searchToggle  = $('.search-toggle');\n\n        // handle search form toggling\n        $searchToggle.on('click', function(e) {\n            e.preventDefault();\n            $searchDrawer.find('> div').toggleClass('open');\n        });\n\n        // set up JS-enabled stuff\n        $header.addClass('sticky');\n        $body.css('padding-top', initialHeight);\n\n        $window.scroll(function(event){\n            didScroll = true;\n        });\n\n        var scrollCheck = function() {\n            if (didScroll) {\n                hasScrolled();\n                didScroll = false;\n            }\n            requestAnimationFrame(scrollCheck);\n        };\n\n        requestAnimationFrame(scrollCheck);\n\n        var hasScrolled = function() {\n            var height     = $header.outerHeight();\n            var scrollPos  = $window.scrollTop();\n            var doNothing = (\n                scrollPos == lastScrollTop ||\n                Math.abs(lastScrollTop - scrollPos) <= delta\n            );\n\n            if(doNothing) {\n                return;\n            }\n\n            // If they scrolled down and are past the header, add class .header-up.\n            if (scrollPos > lastScrollTop && scrollPos > height) {\n                // Scroll Down\n                $header\n                    .addClass('header-up')\n                    .css('top', -height);\n            } else {\n                // Scroll Up\n                $header\n                    .removeClass('header-up')\n                    .css('top', '0');\n            }\n\n            lastScrollTop = scrollPos;\n        };\n\n        $window.resize(function(){\n            // check for inner containter to measure height\n            // incase the search drawer is open\n            var height = $headerContent.outerHeight();\n\n            $body.css('padding-top', height);\n            hasScrolled();\n        });\n\n    });\n};\n"],"sourceRoot":""}